# エージェントタブUI整理のためのユーザーストーリー

## 1. 背景と課題
現状のエージェントタブには、以下の操作が1画面に集約されています。

- 学習対象プロファイルの選択
- 学習パラメーター編集（6項目）
- 学習実行と学習データクリア
- 保存/読み込み/削除/JSON入出力
- 学習統計表示
- プロファイル比較表示

機能単位では必要ですが、目的の異なる作業（「学習する」「データ管理する」「比較する」）が混在し、
ユーザーが「いま何をすべき画面か」を把握しづらい状態です。

## 2. 整理の方針
UIを「ユーザーの目的（ジョブ）」で分割し、1画面1目的を基本に再構成します。

- **学習する**: パラメーター調整と学習実行
- **運用する**: 保存/復元/JSON入出力
- **比較する**: プロファイルの成果比較

上記に合わせて、エージェントタブ内をサブセクション（またはサブタブ）で分離します。

## 3. 想定ユーザー

1. **初心者プレイヤー**
   - まずは1つのプロファイルを学習して効果を体験したい
   - 難しい用語より、次に押すボタンが分かることを重視

2. **試行錯誤ユーザー**
   - パラメーターを変えながら学習結果を比較したい
   - 複数プロファイルの成果を並べて見たい

3. **データ持ち運びユーザー**
   - 学習結果を保存/共有/復元したい
   - JSON入出力の失敗を避けたい

## 4. ユーザーストーリー

### US-01 学習開始までを迷わず進めたい
- **ストーリー**: 
  ユーザーとして、学習対象を選んで最小限の設定で学習開始したい。なぜなら、まず結果を見てから詳細設定を詰めたいから。
- **受け入れ基準**:
  - 学習対象プロファイル選択と「トレーニング開始」が同じ視線範囲にある
  - 初期表示時に「まず行う操作」が1つ明示される
  - 学習中は重複実行できない

### US-02 パラメーター調整に集中したい
- **ストーリー**: 
  ユーザーとして、学習パラメーターだけをまとめて編集したい。なぜなら、保存や比較の操作が近いと誤操作しやすいから。
- **受け入れ基準**:
  - パラメーター群が独立したセクションとして表示される
  - 各パラメーターの役割を短い補助文で確認できる
  - 危険操作（クリア）は通常操作と離れて配置される

### US-03 学習データを安全に管理したい
- **ストーリー**: 
  ユーザーとして、保存・読み込み・削除・JSON入出力を安全に行いたい。なぜなら、学習結果を誤って失いたくないから。
- **受け入れ基準**:
  - データ管理操作は専用セクションにまとまっている
  - 削除操作には確認ステップがある
  - JSONインポート時は成功/失敗が明確なメッセージで表示される

### US-04 比較結果をすぐ判断したい
- **ストーリー**: 
  ユーザーとして、複数プロファイルの進捗を一覧で比較したい。なぜなら、次に学習する対象を判断したいから。
- **受け入れ基準**:
  - 比較表示が専用セクションで常に同じ列順で表示される
  - 少なくとも「累計エピソード」「状態数」で並べ替え基準を持てる
  - 現在選択中プロファイルが視覚的に識別できる

### US-05 現在の状態を一目で把握したい
- **ストーリー**: 
  ユーザーとして、いま何が進行中か（学習中・完了・失敗）を常に把握したい。なぜなら、次の操作タイミングを判断したいから。
- **受け入れ基準**:
  - 画面上部に状態サマリー（対象プロファイル、学習状態、最新メッセージ）がある
  - 成功/警告/エラーが色と文言で区別される

## 5. 情報設計（提案）

エージェントタブを以下の4ブロックで構成します。

1. **ヘッダーサマリー（固定）**
   - 現在プロファイル
   - 学習状態（待機/実行中）
   - 最新メッセージ

2. **学習（既定表示）**
   - 学習対象プロファイル
   - 主要アクション（トレーニング開始）
   - パラメーター詳細（折りたたみ可）

3. **データ管理**
   - 保存/読み込み/削除
   - JSONエクスポート/インポート
   - JSONテキストエリア

4. **比較**
   - プロファイル比較テーブル
   - 並び替え/選択中強調

## 6. 画面遷移イメージ（軽量）

- エージェントタブ初期表示: 「学習」
- 上部サブタブ:
  - 学習
  - データ管理
  - 比較

※ 初心者向けに初回のみ「まずは学習対象を選んでトレーニング開始」のガイドを表示する。

## 7. 実装時の優先順位

1. セクション分割（学習 / データ管理 / 比較）
2. ヘッダーサマリーの常時表示
3. 危険操作（削除・クリア）の保護（確認導線）
4. 比較テーブルの視認性改善（選択中強調・列整理）

## 8. 完了条件（Definition of Done）

- 上記 US-01 〜 US-05 の受け入れ基準を満たすUI構成になっている
- 既存機能（学習、保存、JSON入出力、比較）が欠けずに移設されている
- 操作手順が「学習」「データ管理」「比較」の3導線で説明可能になっている
