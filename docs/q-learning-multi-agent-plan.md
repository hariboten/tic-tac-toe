# Q学習エージェント複数管理の計画・仕様

## 背景
現状は Q 学習エージェントを 1 つだけ保持しており、学習パラメーターを変えた比較ができない。ユーザー要望として、

- 異なるパラメーターで複数の Q 学習エージェントをトレーニングしたい
- 学習済みエージェント同士を比較したい
- プレイ時に使う Q 学習エージェントを切り替えたい

がある。

## 目標
1. 学習プロファイル（スロット）を複数持てるようにする。
2. 各プロファイルごとにトレーニング設定・学習済み統計・Q テーブルを保持する。
3. プレイタブで、Q 学習を使う場合にどのプロファイルを使うか選択できる。
4. エージェントタブでプロファイル一覧を比較できる。

## 仕様

### 1. プロファイル構造
- 既定で 3 プロファイルを提供する（`A` / `B` / `C`）。
- 各プロファイルは以下を持つ。
  - `id`（A/B/C）
  - 表示名
  - `trainingConfig`
  - `trainedEpisodes`
  - `trainingMessage`
  - `QLearningAgent` インスタンス

### 2. 学習対象の切り替え
- エージェントタブに「学習対象プロファイル」セレクトを追加する。
- 以降のトレーニング・保存・読み込み・JSON 入出力は選択中プロファイルに対して実行する。
- 学習完了時の自動保存キーはプロファイルごとに分ける。

### 3. 比較表示
- エージェントタブに比較テーブル（簡易）を追加し、全プロファイルの
  - 累計エピソード
  - 状態数
  - 直近ステータスメッセージ
  を一覧表示する。

### 4. プレイ時の切り替え
- プレイタブに「Q学習プロファイル」セレクトを追加。
- `X/O` どちらかが Q 学習エージェントの場合、選択中プロファイルの `QLearningAgent` を使用する。
- オーバーレイ補助が Q 学習の場合も同じプロファイルを使用する。

### 5. 永続化
- ストレージキーをプロファイルごとに分離（例: `...v2.profile.A`）。
- 起動時は全プロファイルの自動復元を試み、成功/失敗を要約メッセージにする。

## 実装方針
- `AppComponent` の単一 `qLearningAgent` / `trainingConfig` 状態を、プロファイル配列＋選択 ID に置き換える。
- 既存 `QLearningAgent` クラスは再利用し、複数インスタンスを管理する。
- 既存テストをプロファイル前提に更新し、以下の観点を追加する。
  - 学習対象プロファイルの切替
  - プレイ時のプロファイル切替
  - 比較表示の更新

## 非目標
- プロファイルの動的追加・削除機能（今回は固定 3 スロット）
- 学習ジョブの同時並列実行
