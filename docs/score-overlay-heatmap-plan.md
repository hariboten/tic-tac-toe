# スコアオーバーレイのヒートマップ化 計画

## 目的
- 既存のオーバーレイ数値表示を維持しつつ、セル背景の濃淡で相対評価を直感的に把握できるようにする。
- 正規化の境界条件（`max === min` / `absMax === 0`）や不正値（`null`/`undefined`/`NaN`）で破綻しない実装にする。

## 実装方針
1. `src/app/` 配下にスコア→ヒートマップ表示情報へ変換する純関数を追加する。
   - sequential / diverging 両モードをサポート
   - alpha は `alphaMin`〜`alphaMax` で線形補間
2. `AppComponent` から上記純関数を呼び出し、各セルのヒートマップ背景色を算出する。
3. テンプレートでセル内に絶対配置のヒートマップレイヤーを追加し、既存数値表示と併用する。
4. SCSS でレイヤー重なり順と可読性（`text-shadow`）を調整する。
5. 純関数の単体テストと、コンポーネントの表示テストを追加する。

## 受け入れ観点
- 有効手のみ着色される（埋まっているセルは非着色）
- sequential / diverging の正規化結果が期待通り
- 境界値で alpha が暴走せず、`transparent` にフォールバックできる
